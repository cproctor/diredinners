<head>
  <title>Dire Diners</title>
	<link href='http://fonts.googleapis.com/css?family=Russo+One|Nunito:700' rel='stylesheet' type='text/css'>
</head>

<body>
	{{> controls}}
  <div id="outer">
		{{> week}}
  </div>
	<div id="loose_cooks">
		{{> loose_cooks}}
	</div>
</body>

<template name="week">
	<div class="week-mask">
		{{#each days}}
			{{> day_mask}}
		{{/each}}
	</div>
	<div class="day-names">
		{{#each days}}
			{{> day_name}}
    {{/each}}
	</div>
	<div class="week">
    {{#each days}}
			{{> day}}
    {{/each}}
  </div>
</template>

<template name="day_mask">
	<div class="day-mask" data-day="{{name}}">
	</div>
</template>

<template name="day">
	<div class="day" data-day="{{name}}">
		<div class="drop_target" data-position="1">
			{{#each bound_cooks name 1}}
				{{> bound_cook}}
			{{/each}}
		</div>
		<div class="drop_target" data-position="2">
			{{#each bound_cooks name 2}}
				{{> bound_cook}}
			{{/each}}
		</div>
		<div class="drop_target" data-position="3">
			{{#each bound_cooks name 3}}
				{{> bound_cook}}
			{{/each}}
		</div>
		<div class="drop_target" data-position="4">
			{{#each bound_cooks name 4}}
				{{> bound_cook}}
			{{/each}}
		</div>
		<div class="drop_target" data-position="5">
			{{#each bound_cooks name 5}}
				{{> bound_cook}}
			{{/each}}
		</div>
	</div>
	{{make_droppable}}
</template>

<template name="bound_cook">
	<div class="bound_cook">
		<span class="name" data-cook-id="{{_id}}">{{name}}</span>
	</div>
	{{make_draggable}}
	{{update_background}}
</template>

<template name="day_name">
	<div class="day-name {{letter}}">
		{{letter}}
	</div>
</template>

<template name="loose_cooks">
	{{#each loose_cooks}}
		{{> loose_cook}}
	{{/each}}
	{{make_droppable}}
</template>

<template name="loose_cook">
	<div class="loose_cook">
		<span class="name" data-cook-id="{{_id}}">{{name}}</span>
	</div>
	{{make_draggable}}
</template>

<template name="controls">
	<div id="controls">
		<div class="control" id="add_cook">
			<span id="plus">+</span>
			<input type="text" id="new_cook_name" maxlength="7">
		</div>
		<div class="control" id="remove_cook">-</div>
	</div>
	{{enable_controls}}
</template>